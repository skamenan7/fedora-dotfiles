(()=>{var e={59:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewDelay=void 0;const r=n(o(221)),i=o(687),s=o(265),a=o(398);t.NewDelay=class{constructor(e){this.onDiagnosticChange=e=>{this.updateDecorationsDebounced()},this.updateDecorationsDebounced=(0,r.default)((()=>{(0,i.updateDecorationsForAllVisibleEditors)(),s.$state.statusBarIcons.updateText(),s.$state.codeLens?.show()}),e,{leading:!1,trailing:!0}),this.documentChangeDisposable=a.workspace.onDidChangeTextDocument((e=>{this.clearDecorationsForAllVisibleEditors(),this.updateDecorationsDebounced(),s.$state.codeLens?.hide()}))}dispose(){this.documentChangeDisposable?.dispose()}clearDecorationsForAllVisibleEditors(){for(const e of a.window.visibleTextEditors)(0,i.clearDecorations)({editor:e})}}},84:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableLineCommand=function(e){const t=s.window.activeTextEditor;if(!t)return;let o;if(e)o=e.range[0].line;else{const n=r.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!n)return;o=(e=n).range.start.line}if(!e.source)return void s.window.showWarningMessage('Diagnostic has no "source".');let a=n.$config.disableLineComments[e.source]||"";if(!a)return void async function(e){const t="Show Settings";await s.window.showInformationMessage(`Comment not specified for source "${e}"`,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens disableLineComments")}(e.source);const c=a.includes("SAME_LINE");c&&(a=a.replace(/\s?SAME_LINE\s?/u,""));let g,l=r.extUtils.diagnosticToInlineMessage(a,e,0);c?g=t.document.validatePosition(new s.Position(o,1/0)):(g=o<=1?new s.Position(0,0):new s.Position(o,0),l=`${i.vscodeUtils.getIndentationAtLine(t.document,o)}${l}\n`),t.edit((e=>{e.insert(g,l)}))};const n=o(265),r=o(968),i=o(301),s=o(398)},124:(e,t,o)=>{var n=o(325);e.exports=function(){return n.Date.now()}},128:(e,t,o)=>{var n=o(800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0,t.utils={truncateString(e,t){const o=[...e];return o.length>t?`${o.slice(0,t).join("")}â€¦`:e},replaceLinebreaks:(e,t)=>e.replace(/[\n\r\t]+/gu,t),basename:e=>e.split(/[\\/]/u).pop()??"",surround:(e,t)=>`${t}${e}${t}`}},149:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyProblemCodeCommand=function(e){let t="";if("string"==typeof e?.code)t=e.code;else{const e=i.window.activeTextEditor;if(!e)return;const o=n.extUtils.getDiagnosticAtLine(e.document.uri,e.selection.active.line);if(!o)return;const r=n.extUtils.getDiagnosticCode(o);if(!r)return;t=r}i.env.clipboard.writeText(t),r.vscodeUtils.showTempStatusBarNotification({message:"ðŸŸ© Copied ðŸŸ©",timeout:1e3})};const n=o(968),r=o(301),i=o(398)},158:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeLensOnClickCommand=function(e){switch(n.$config.codeLensOnClick){case"showProblemsView":i.commands.executeCommand("workbench.actions.view.problems");break;case"showQuickFix":r.vscodeUtils.setCaretInEditor({range:e.range}),i.commands.executeCommand("editor.action.quickFix",e);break;case"searchForProblem":r.vscodeUtils.setCaretInEditor({range:e.range}),i.commands.executeCommand("errorLens.searchForProblem",e)}};const n=o(265),r=o(301),i=o(398)},217:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleForAlignment=function({isMultilineDecoration:e,alignmentKind:t,textLine:o,indentSize:i,indentStyle:s,minVisualLineLength:a,minimumMargin:c,padding:g,problemMessage:l,start:d,end:u}){let f,h="";const p=n.extUtils.getVisualLineLength(o,i,s);let m=c+a-p;if(e);else{const e=function({start:e,end:t,message:o,minimumMargin:n,padding:r,visualLineLength:i}){let s=0;if(e)s=e<=i?0:e-i;else if(t){const e=t-o.length-i-2*r[1];s=e<0?0:e}return s<n?n:s}({start:d,end:u,visualLineLength:p,message:l,minimumMargin:c,padding:g});m=e}return"fixed"===t?(f=new r.Range(o.range.start,o.range.start),h=`position:fixed;left:${m+p}ch;padding:${g[0]}ch ${g[1]}ch;margin:0`):(f=new r.Range(o.range.start.line,o.range.end.character,o.range.start.line,o.range.end.character),h=`margin:0 0 0 ${m>=0?m:0}ch;padding:${g[0]}ch ${g[1]}ch`),{range:f,styleStr:h}};const n=o(968),r=o(398)},221:(e,t,o)=>{var n=o(805),r=o(124),i=o(374),s=Math.max,a=Math.min;e.exports=function(e,t,o){var c,g,l,d,u,f,h=0,p=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var o=c,n=g;return c=g=void 0,h=t,d=e.apply(n,o)}function b(e){var o=e-f;return void 0===f||o>=t||o<0||m&&e-h>=l}function $(){var e=r();if(b(e))return I(e);u=setTimeout($,function(e){var o=t-(e-f);return m?a(o,l-(e-h)):o}(e))}function I(e){return u=void 0,v&&c?w(e):(c=g=void 0,d)}function C(){var e=r(),o=b(e);if(c=arguments,g=this,f=e,o){if(void 0===u)return function(e){return h=e,u=setTimeout($,t),p?w(e):d}(f);if(m)return clearTimeout(u),u=setTimeout($,t),w(f)}return void 0===u&&(u=setTimeout($,t)),d}return t=i(t)||0,n(o)&&(p=!!o.leading,l=(m="maxWait"in o)?s(i(o.maxWait)||0,t):l,v="trailing"in o?!!o.trailing:v),C.cancel=function(){void 0!==u&&clearTimeout(u),h=0,c=f=g=u=void 0},C.flush=function(){return void 0===u?d:I(r())},C}},247:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyProblemMessageCommand=function(e){let t="";if("string"==typeof e)t=e;else{const e=i.window.activeTextEditor;if(!e)return void i.window.showInformationMessage("No active Text Editor.");const o=n.extUtils.groupDiagnosticsByLine(i.languages.getDiagnostics(e.document.uri))[e.selection.active.line];if(!o)return void i.window.showInformationMessage("There's no problem at the active line.");const r=o[0];t=(r.source?`[${r.source}] `:"")+r.message}i.env.clipboard.writeText(t),r.vscodeUtils.showTempStatusBarNotification({message:"ðŸŸ© Copied ðŸŸ©",timeout:1e3})};const n=o(968),r=o(301),i=o(398)},265:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$state=t.$config=void 0,t.activate=function(e){function o(){t.$config=l.workspace.getConfiguration().get("errorLens"),u.vscodeGlobalProblemsEnabled=l.workspace.getConfiguration("problems").get("visibility")??!0,u.vscodeAutosaveEnabled="afterDelay"===l.workspace.getConfiguration("files").get("autoSave"),p(),t.$config.enabled&&f(e)}u.logger=new g.Logger({isDev:!1}),o(),(0,n.registerAllCommands)(e),t.$config.onSave&&t.$config.onSaveUpdateOnActiveEditorChange&&setTimeout((()=>{(0,r.updateDecorationsForAllVisibleEditors)()}),2*t.$config.onSaveTimeout),e.subscriptions.push(l.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration("errorLens")||e.affectsConfiguration("problems.visibility")||e.affectsConfiguration("files.autoSave")||e.affectsConfiguration("editor.fontSize"))&&o()})))},t.updateEverything=f,t.disposeEverything=p,t.deactivate=function(){};const n=o(916),r=o(687),i=o(795),s=o(541),a=o(712),c=o(968),g=o(628),l=o(398),d=o(707);class u{}function f(e){u.replaceRegexp=t.$config.replace.map((e=>({matcher:h(e.matcher),message:e.message}))),function(){u.excludeRegexp=[],u.excludeByMessage={regexps:[],strings:[]},u.excludeSources=[],u.excludePatterns=void 0;for(const e of t.$config.excludeBySource){const t=c.extUtils.parseSourceCodeFromString(e);t.source&&u.excludeSources.push({source:t.source,code:t.code})}for(const e of t.$config.exclude)"string"==typeof e&&u.excludeRegexp.push(h(e));for(const e of t.$config.excludeByMessage||[])if("string"==typeof e)u.excludeByMessage.strings.push(e.toLocaleLowerCase());else{if(!e.regex)continue;u.excludeByMessage.regexps.push(new RegExp(e.regex,e.flags??"iu"))}Array.isArray(t.$config.excludePatterns)&&0!==t.$config.excludePatterns.length&&(u.excludePatterns=t.$config.excludePatterns.map((e=>({pattern:e}))))}(),u.renderGutterIconsAsSeparateDecoration=t.$config.gutterIconsEnabled&&t.$config.gutterIconsFollowCursorOverride&&"allLines"!==t.$config.followCursor,u.shouldUpdateOnEditorScrollEvent=!1,u.statusBarMessage?.dispose(),u.statusBarIcons?.dispose(),u.statusBarMessage=new a.StatusBarMessage({isEnabled:c.extUtils.shouldShowStatusBarMessage(),colorsEnabled:t.$config.statusBarColorsEnabled,messageType:t.$config.statusBarMessageType,priority:t.$config.statusBarMessagePriority,alignment:t.$config.statusBarMessageAlignment}),u.statusBarIcons=new s.StatusBarIcons({isEnabled:c.extUtils.shouldShowStatusBarIcons(),atZero:t.$config.statusBarIconsAtZero,useBackground:t.$config.statusBarIconsUseBackground,priority:t.$config.statusBarIconsPriority,alignment:t.$config.statusBarIconsAlignment,targetProblems:t.$config.statusBarIconsTargetProblems}),u.codeLens?.dispose(),t.$config.codeLensEnabled&&(u.codeLens=new d.ErrorLensCodeLens(e)),u.configErrorEnabled=t.$config.enabledDiagnosticLevels.includes("error"),u.configWarningEnabled=t.$config.enabledDiagnosticLevels.includes("warning"),u.configInfoEnabled=t.$config.enabledDiagnosticLevels.includes("info"),u.configHintEnabled=t.$config.enabledDiagnosticLevels.includes("hint"),(0,r.setDecorationStyle)(e),(0,r.updateDecorationsForAllVisibleEditors)(),u.statusBarIcons.updateText(),(0,i.updateChangeDiagnosticListener)(),(0,i.updateChangeVisibleTextEditorsListener)(),(0,i.updateOnSaveListener)(),(0,i.updateCursorChangeListener)(),(0,i.updateChangedActiveTextEditorListener)(),(0,i.updateChangeBreakpointsListener)()}function h(e){return new RegExp(e,"iu")}function p(){(0,i.disposeAllEventListeners)(),u.statusBarMessage?.dispose(),u.statusBarIcons?.dispose(),u.codeLens?.dispose(),(0,r.disposeAllDecorations)()}t.$state=u,u.configErrorEnabled=!0,u.configWarningEnabled=!0,u.configInfoEnabled=!0,u.configHintEnabled=!0,u.vscodeGlobalProblemsEnabled=!0,u.vscodeAutosaveEnabled=!1,u.replaceRegexp=void 0,u.excludeRegexp=[],u.excludeByMessage={strings:[],regexps:[]},u.excludeSources=[],u.excludePatterns=void 0,u.log=(e,...t)=>{u.logger.log(e,...t)}},301:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vscodeUtils=void 0;const n=o(135),r=o(398);let i;t.vscodeUtils={async updateGlobalSetting(e,t){const o=r.workspace.getConfiguration();await o.update(e,t,r.ConfigurationTarget.Global)},async toggleGlobalBooleanSetting(e){const o=r.workspace.getConfiguration().get(e);void 0!==o&&await t.vscodeUtils.updateGlobalSetting(e,!o)},svgToUri:e=>r.Uri.parse(`data:image/svg+xml;utf8,${e}`),createCommandUri(e,t){const o=t?`?${encodeURIComponent(JSON.stringify(t))}`:"";return r.Uri.parse(`command:${e}${o}`)},async openSettingGuiAt(e){await r.commands.executeCommand("workbench.action.openSettings",e)},createStyledMarkdown:({strMd:e="",backgroundColor:t="var(--vscode-editorHoverWidget-background)",color:o="var(--vscode-editorHoverWidget-foreground)"})=>`<span style="${o?`color:${o};`:""}${t?`background-color:${t};`:""}">${e}</span>`,createButtonLinkMarkdown:({text:e,href:o,title:r=""})=>`<a title="${r}" href="${o}">${t.vscodeUtils.createStyledMarkdown({strMd:n.utils.surround(e,"&nbsp;"),backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)"})}</a>`,createProblemIconMarkdown(e){const o="error"===e?"var(--vscode-editorError-foreground)":"warning"===e?"var(--vscode-editorWarning-foreground)":"var(--vscode-editorInfo-foreground)";return t.vscodeUtils.createStyledMarkdown({strMd:`$(${e})`,color:o})},async readFileVscode(e){try{const t="string"==typeof e?r.Uri.file(e):e,o=await r.workspace.fs.readFile(t);return(new TextDecoder).decode(o)}catch(e){return r.window.showErrorMessage(e.message),""}},async openFileInVscode(e){let t;return t=await r.workspace.openTextDocument(e),r.window.showTextDocument(t)},revealLine(e,t){const o=new r.Range(t,0,t,0);e.selection=new r.Selection(o.start,o.end),e.revealRange(o,r.TextEditorRevealType.AtTop);const n=r.window.createTextEditorDecorationType({backgroundColor:"#ffa30468",isWholeLine:!0});e.setDecorations(n,[o]),setTimeout((()=>{e.setDecorations(n,[]),n?.dispose()}),700)},getIndentationAtLine(e,t){const o=e.lineAt(t);return o.text.slice(0,o.firstNonWhitespaceCharacterIndex)},setCaretInEditor({editor:e,range:t}){e||(e=r.window.activeTextEditor),e&&(e.selection=new r.Selection(t.start,t.end),e.revealRange(t))},getEditorByUri(e){for(const t of r.window.visibleTextEditors)if(t.document.uri.toString(!0)===e.toString(!0))return t},showTempStatusBarNotification({message:e,timeout:t}){i?.dispose(),i=r.window.createStatusBarItem(r.StatusBarAlignment.Left,-1e5),i.text=e,i.show(),setTimeout((()=>{i?.hide(),i?.dispose()}),t)}}},314:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEverythingCommand=function(e){for(const t of s.window.visibleTextEditors)"clear"===e?.kind?(0,n.clearDecorations)({editor:t}):((0,n.updateDecorationsForUri)({uri:t.document.uri,editor:t}),r.$state.statusBarMessage.updateText(t,i.extUtils.groupDiagnosticsByLine(s.languages.getDiagnostics(t.document.uri))));r.$state.statusBarIcons.updateText()};const n=o(687),r=o(265),i=o(968),s=o(398)},325:(e,t,o)=>{var n=o(840),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},374:(e,t,o)=>{var n=o(128),r=o(805),i=o(394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,g=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var o=a.test(e);return o||c.test(e)?g(e.slice(2),o?2:8):s.test(e)?NaN:+e}},394:(e,t,o)=>{var n=o(552),r=o(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},398:e=>{"use strict";e.exports=require("vscode")},476:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findLinterRuleDefinitionCommand=async function(e){let t=e?.source,o=e?.code;if(!e){const e=function(){const e=s.window.activeTextEditor;if(!e)return;const t=e.selection.active.line,o=s.languages.getDiagnostics(e.document.uri),n=r.extUtils.groupDiagnosticsByLine(o);return n[t]?.[0]}();e&&(o=r.extUtils.getDiagnosticCode(e),t=e.source)}if(!t)return void s.window.showWarningMessage('Diagnostic has no "source".');if(!o)return void s.window.showWarningMessage('Diagnostic has no "code".');const g=n.$config.lintFilePaths[t];if("none"===g)return;if(!g)return void a(`No linter files specified for source: "${t}".`);const l=[];for(const e of g)l.push(s.workspace.findFiles(e,"**/node_modules/**",10));const d=(await Promise.all(l)).flat();if(!d.length)return void a(`No linter files found that match any of the globs: ${JSON.stringify(d)}.`);const u=[];for(const e of d){const t=await i.vscodeUtils.readFileVscode(e.fsPath);t.includes(o)&&u.push({fileContents:t,linterFilePath:e})}if(!u.length){const e=`No linter file with "${o}" found.`;if(1===d.length){!async function(e,t){const o="Search",n="Open Setting",r=await s.window.showWarningMessage(e,n,o);r===n?i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens lintFilePaths"):r===o&&s.commands.executeCommand("workbench.action.findInFiles",{query:t,isRegex:!1,triggerSearch:!0,excludeSettingAndIgnoreFiles:!0})}(e,o);const t=await i.vscodeUtils.openFileInVscode(d[0]);i.vscodeUtils.revealLine(t,0)}else{const t=await s.window.showQuickPick(d.map((e=>e.fsPath)),{title:e});t&&i.vscodeUtils.openFileInVscode(t)}return}if(1===u.length){const e=u[0];return void await c(e.linterFilePath.fsPath,e.fileContents,o)}const f=await s.window.showQuickPick(u.map((e=>({label:e.linterFilePath.fsPath,linterFilePath:e.linterFilePath,fileContents:e.fileContents}))),{title:`"${o}" is found in multiple files:`});f&&c(f.linterFilePath,f.fileContents,o)};const n=o(265),r=o(968),i=o(301),s=o(398);async function a(e){const t="Open Setting";await s.window.showWarningMessage(e,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens lintFilePaths")}async function c(e,t,o){const n=await i.vscodeUtils.openFileInVscode(e),r=function(e,t){const o=e.split("\n");for(let e=0;e<o.length;e++)if(o[e].includes(t))return e}(t,o);r&&i.vscodeUtils.revealLine(n,r)}},477:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleWorkspaceCommand=async function(){const e=i.window.activeTextEditor;let t,o;e?(t=i.workspace.getWorkspaceFolder(e?.document?.uri)?.uri.fsPath,t||i.window.showWarningMessage(`Counldn't find workspace folder for "${e.document.uri.toString()}".`)):(t=await async function(){const e=i.workspace.workspaceFolders;if(e?.length)return 1===e.length?e[0].uri.fsPath:await i.window.showQuickPick(e.map((e=>e.uri.fsPath)),{title:"Pick workspace folder to include/exclude:"})}(),t||i.window.showWarningMessage("No opened/picked workspace folder.")),t&&(n.$config.excludeWorkspaces?.includes(t)?(o=n.$config.excludeWorkspaces.filter((e=>e!==t)),s(`"${t}" - Removed from "errorLens.excludeWorkspaces"`)):(o=[...n.$config.excludeWorkspaces||[],t],s(`"${t}" - Added to "errorLens.excludeWorkspaces" (now ignored)`)),r.vscodeUtils.updateGlobalSetting("errorLens.excludeWorkspaces",o))};const n=o(265),r=o(301),i=o(398);async function s(e){await i.window.showInformationMessage(e,"Open Settings UI")&&r.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens excludeWorkspaces")}},517:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGutterStyles=function(e){const t={};return t.iconSet=r.$config.gutterIconSet,"circle"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(a(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(a(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(a(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(a(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"square"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(c(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(c(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(c(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(c(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"squareRounded"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(g(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(g(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(g(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(g(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(g(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(g(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(g(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(g(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"letter"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(d(r.$config.errorGutterIconColor,"E")),t.errorIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor,"E")),t.warningIconPath=i.vscodeUtils.svgToUri(d(r.$config.warningGutterIconColor,"W")),t.warningIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor,"W")),t.infoIconPath=i.vscodeUtils.svgToUri(d(r.$config.infoGutterIconColor,"I")),t.infoIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor,"I")),t.hintIconPath=i.vscodeUtils.svgToUri(d(r.$config.hintGutterIconColor,"H")),t.hintIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor,"H"))):"emoji"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(u(r.$config.errorGutterIconColor,r.$config.gutterEmoji.error)),t.errorIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor,r.$config.gutterEmoji.error)),t.warningIconPath=i.vscodeUtils.svgToUri(u(r.$config.warningGutterIconColor,r.$config.gutterEmoji.warning)),t.warningIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor,r.$config.gutterEmoji.warning)),t.infoIconPath=i.vscodeUtils.svgToUri(u(r.$config.infoGutterIconColor,r.$config.gutterEmoji.info)),t.infoIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor,r.$config.gutterEmoji.info)),t.hintIconPath=i.vscodeUtils.svgToUri(u(r.$config.hintGutterIconColor,r.$config.gutterEmoji.hint)),t.hintIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor,r.$config.gutterEmoji.hint))):(t.errorIconPath=e.asAbsolutePath(`./img/${t.iconSet}/error-dark.svg`),t.errorIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/error-light.svg`),t.warningIconPath=e.asAbsolutePath(`./img/${t.iconSet}/warning-dark.svg`),t.warningIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/warning-light.svg`),t.infoIconPath=e.asAbsolutePath(`./img/${t.iconSet}/info-dark.svg`),t.infoIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/info-light.svg`),t.hintIconPath=e.asAbsolutePath(`./img/${t.iconSet}/hint-dark.svg`),t.hintIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/hint-light.svg`)),r.$config.errorGutterIconPath&&(t.errorIconPath=r.$config.errorGutterIconPath),(r.$config.light.errorGutterIconPath||r.$config.errorGutterIconPath)&&(t.errorIconPathLight=r.$config.light.errorGutterIconPath||r.$config.errorGutterIconPath),r.$config.warningGutterIconPath&&(t.warningIconPath=r.$config.warningGutterIconPath),(r.$config.light.warningGutterIconPath||r.$config.warningGutterIconPath)&&(t.warningIconPathLight=r.$config.light.warningGutterIconColor||r.$config.warningGutterIconPath),r.$config.infoGutterIconPath&&(t.infoIconPath=r.$config.infoGutterIconPath),(r.$config.light.infoGutterIconPath||r.$config.infoGutterIconPath)&&(t.infoIconPathLight=r.$config.light.infoGutterIconColor||r.$config.infoGutterIconPath),r.$config.hintGutterIconPath&&(t.hintIconPath=r.$config.hintGutterIconPath),(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconPath)&&(t.hintIconPathLight=r.$config.light.hintGutterIconColor||r.$config.hintGutterIconPath),{errorIconPath:t.errorIconPath,errorIconPathLight:t.errorIconPathLight,warningIconPath:t.warningIconPath,warningIconPathLight:t.warningIconPathLight,infoIconPath:t.infoIconPath,infoIconPathLight:t.infoIconPathLight,hintIconPath:t.hintIconPath,hintIconPathLight:t.hintIconPathLight,iconSet:t.iconSet,transparent1x1Icon:s.Uri.parse("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")}},t.doUpdateGutterDecorations=function(e,t){const o=[],i=[],a=[],c=[];for(const e in t){const n=t[e][0],g=n.severity,l={range:n.range};switch(g){case s.DiagnosticSeverity.Error:o.push(l);break;case s.DiagnosticSeverity.Warning:i.push(l);break;case s.DiagnosticSeverity.Information:a.push(l);break;case s.DiagnosticSeverity.Hint:"circle"!==r.$config.gutterIconSet&&"square"!==r.$config.gutterIconSet&&"squareRounded"!==r.$config.gutterIconSet&&"letter"!==r.$config.gutterIconSet&&"emoji"!==r.$config.gutterIconSet||c.push(l)}}e.setDecorations(n.decorationTypes.gutterError,o),e.setDecorations(n.decorationTypes.gutterWarning,i),e.setDecorations(n.decorationTypes.gutterInfo,a),e.setDecorations(n.decorationTypes.gutterHint,c)},t.updateWorkaroundGutterIcon=function(e){const t=[];for(const o of s.debug.breakpoints){const n=o?.location;n&&n.uri.toString(!0)===e?.document.uri.toString(!0)&&t.push(n.range)}e.setDecorations(n.decorationTypes.transparent1x1Icon,t)};const n=o(687),r=o(265),i=o(301),s=o(398);function a(e){return`<svg xmlns="http://www.w3.org/2000/svg" height="30" width="30"><circle cx="15" cy="15" r="7" fill="${f(e)}"/></svg>`}function c(e,t=0){return`<svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" height="40" width="40"><g transform="translate(12, 12)"><rect width="16" height="16" rx="${t}" fill="${f(e)}"/></g></svg>`}function g(e){return c(e,3)}let l="";function d(e,t){return l=l||(s.workspace.getConfiguration("editor").get("fontFamily")??""),`<svg viewBox="-10 -6 20 10" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${f(e)}"><text font-family="${l}" text-anchor="middle" dominant-baseline="middle">${t}</text></svg>`}function u(e,t){return l=l||(s.workspace.getConfiguration("editor").get("fontFamily")??""),`<svg viewBox="-10 -6 20 10" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><text fill="${f(e)}" font-family="${l}" text-anchor="middle" dominant-baseline="middle">${t}</text></svg>`}function f(e){return`%23${e.slice(1)}`}},541:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarIcons=void 0;const n=o(968),r=o(135),i=o(398);t.StatusBarIcons=class{constructor({isEnabled:e,atZero:t,useBackground:o,priority:n,alignment:r,targetProblems:s}){this.errorBackgroundThemeColor=new i.ThemeColor("statusBarItem.errorBackground"),this.warningBackgroundThemeColor=new i.ThemeColor("statusBarItem.warningBackground"),this.errorForegroundThemeColor=new i.ThemeColor("errorLens.statusBarIconErrorForeground"),this.warningForegroundThemeColor=new i.ThemeColor("errorLens.statusBarIconWarningForeground"),this.isEnabled=e,this.atZero=t,this.useBackground=o,this.targetProblems=s;const a="right"===r?i.StatusBarAlignment.Right:i.StatusBarAlignment.Left;this.errorStatusBarItem=i.window.createStatusBarItem("errorLensError",a,n),this.errorStatusBarItem.name="Error Lens: Error icon",this.errorStatusBarItem.command="workbench.actions.view.problems",this.warningStatusBarItem=i.window.createStatusBarItem("errorLensWarning",a,n-1),this.warningStatusBarItem.name="Error Lens: Warning icon",this.warningStatusBarItem.command="workbench.actions.view.problems",this.setBackground("error"),this.setForeground("error"),this.setBackground("warning"),this.setForeground("warning"),this.isEnabled?(this.errorStatusBarItem.show(),this.warningStatusBarItem.show()):this.dispose()}updateText(){if(!this.isEnabled)return;const e=[],t=[];let o=0,r=0;const i=n.extUtils.getDiagnostics({target:this.targetProblems});for(const n of i){const i=n.uri,s=n.diagnostics,a=[],c=[];for(const e of s)0===e.severity?a.push(e):1===e.severity&&c.push(e);o+=a.length,r+=c.length,a.length&&e.push([i,a]),c.length&&t.push([i,c])}0===o?"hide"===this.atZero?this.errorStatusBarItem.text="":(this.clearBackground("error"),this.clearForeground("error"),this.errorStatusBarItem.text=`$(error) ${o}`,this.errorStatusBarItem.tooltip=this.makeTooltip(e,"error")):(this.setBackground("error"),this.setForeground("error"),this.errorStatusBarItem.text=`$(error) ${o}`,this.errorStatusBarItem.tooltip=this.makeTooltip(e,"error")),0===r?"hide"===this.atZero?this.warningStatusBarItem.text="":(this.clearBackground("warning"),this.clearForeground("warning"),this.warningStatusBarItem.text=`$(warning) ${r}`,this.warningStatusBarItem.tooltip=this.makeTooltip(t,"warning")):(this.setBackground("warning"),this.setForeground("warning"),this.warningStatusBarItem.text=`$(warning) ${r}`,this.warningStatusBarItem.tooltip=this.makeTooltip(t,"warning"))}dispose(){this.errorStatusBarItem.dispose(),this.warningStatusBarItem.dispose()}makeTooltip(e,t){const o=new i.MarkdownString(void 0,!0);o.isTrusted=!0;for(const n of e){const e=n[0],s=n[1];s.length&&o.appendMarkdown(`**${r.utils.basename(e.path)}** (${s.length})\n\n`);for(const n of s){const r=i.Uri.parse(`command:errorLens.revealLine?${encodeURIComponent(JSON.stringify([e.fsPath,[n.range.start.line,n.range.start.character]]))}`);o.appendMarkdown(`<span style="color:${"error"===t?"var(--vscode-editorError-foreground)":"var(--vscode-editorWarning-foreground)"};">$(${t})</span> [${n.message} \`${n.source??"<No source>"}\`](${r.toString()})\n\n`)}}return o}setForeground(e){"error"===e?this.errorStatusBarItem.color=this.errorForegroundThemeColor:"warning"===e&&(this.warningStatusBarItem.color=this.warningForegroundThemeColor)}clearForeground(e){"error"===e?this.errorStatusBarItem.color=void 0:"warning"===e&&(this.warningStatusBarItem.color=void 0)}setBackground(e){this.useBackground&&("error"===e?this.errorStatusBarItem.backgroundColor=this.errorBackgroundThemeColor:"warning"===e&&(this.warningStatusBarItem.backgroundColor=this.warningBackgroundThemeColor))}clearBackground(e){"error"===e?this.errorStatusBarItem.backgroundColor=void 0:"warning"===e&&(this.warningStatusBarItem.backgroundColor=void 0)}}},552:(e,t,o)=>{var n=o(873),r=o(659),i=o(350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},559:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealLineCommand=async function(e,[t,o]){const r=new n.Range(t,o,t,o),i=await n.workspace.openTextDocument(e),s=await n.window.showTextDocument(i);s.revealRange(r),s.selection=new n.Selection(r.start.line,r.start.character,r.start.line,r.start.character)};const n=o(398)},563:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHoverForDiagnostic=function({diagnostic:e,messageEnabled:t,buttonsEnabled:o,sourceCodeEnabled:s,lintFilePaths:a}){if(!t&&!o&&!s)return;const c=new i.MarkdownString(void 0,!0);c.supportHtml=!0,c.isTrusted=!0;const g=n.extUtils.getDiagnosticTarget(e),l=n.extUtils.getDiagnosticCode(e);if(t){const t=r.vscodeUtils.createProblemIconMarkdown(0===e.severity?"error":1===e.severity?"warning":"info");c.appendMarkdown("<table>"),c.appendMarkdown("<tr>"),c.appendMarkdown(`<td>${t}</td>`),c.appendMarkdown("<td>"),c.appendMarkdown("\n\n"),c.appendCodeblock(e.message,"plaintext"),c.appendMarkdown("\n\n"),c.appendMarkdown("</td>"),c.appendMarkdown("</tr>"),c.appendMarkdown("</table>")}if(s){const t=r.vscodeUtils.createButtonLinkMarkdown({text:"$(clippy) Copy code",href:r.vscodeUtils.createCommandUri("errorLens.copyProblemCode",{code:l}).toString(),title:"Copy problem code into the clipboard."}),o=r.vscodeUtils.createButtonLinkMarkdown({text:"$(clippy) Copy message",href:r.vscodeUtils.createCommandUri("errorLens.copyProblemMessage",e.message??"").toString(),title:"Copy problem mesage into the clipboard."});c.appendMarkdown("\n\n"),c.appendMarkdown(`${e.source??"<No source>"}(\`${l??"<No code>"}\`) `),c.appendMarkdown(o),c.appendMarkdown("&nbsp;".repeat(2)),l&&c.appendMarkdown(t)}if(o){const t=r.vscodeUtils.createButtonLinkMarkdown({text:"$(exclude) Exclude",href:r.vscodeUtils.createCommandUri("errorLens.excludeProblem",e).toString(),title:"Exclude problem from Error Lens by source/code"}),o=r.vscodeUtils.createButtonLinkMarkdown({text:"$(file) Definition",href:r.vscodeUtils.createCommandUri("errorLens.findLinterRuleDefinition",{source:e.source,code:l}).toString(),title:"Open diagnostic definition (linter file)."}),n=r.vscodeUtils.createButtonLinkMarkdown({text:"$(search) Search",href:r.vscodeUtils.createCommandUri("errorLens.searchForProblem",e).toString(),title:"Open problem in default browser (controlled by `errorLens.searchForProblemQuery` setting)."}),i=r.vscodeUtils.createButtonLinkMarkdown({text:"$(arrow-circle-up) Disable line",href:r.vscodeUtils.createCommandUri("errorLens.disableLine",e).toString(),title:"Add comment to disable linter rule for this line."});c.appendMarkdown("\n\n"),c.appendMarkdown(t);const s="none"!==a[String(e?.source)];if(s&&(c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(o)),g){c.appendMarkdown("&nbsp;".repeat(2));const e=r.vscodeUtils.createButtonLinkMarkdown({text:"$(book) Docs",href:r.vscodeUtils.createCommandUri("vscode.open",g).toString(),title:"Open diagnostic code or search it in default browser."});c.appendMarkdown(e)}c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(n),s&&(c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(i))}return c};const n=o(968),r=o(301),i=o(398)},572:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchForProblemCommand=function(e){if(!e){const t=i.window.activeTextEditor;if(!t)return;const o=r.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!o)return;e=o}const t=r.extUtils.diagnosticToInlineMessage(n.$config.searchForProblemQuery,e,0);i.env.openExternal(i.Uri.parse(t))};const n=o(265),r=o(968),i=o(398)},573:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.excludeProblemCommand=async function(e){if(!e){const t=s.window.activeTextEditor;if(!t)return void s.window.showInformationMessage("No active Text Editor.");const o=r.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!o)return void s.window.showInformationMessage("There's no problem at the active line.");e=o}const t=r.extUtils.getDiagnosticCode(e),o=e.source;if(!o)return void a('Diagnostic has no "source".',e);if(!t)return void a('Diagnostic has no "code".',e);const c=r.extUtils.diagnosticToSourceCodeString(o,t);n.$config.excludeBySource.includes(c)||(await i.vscodeUtils.updateGlobalSetting("errorLens.excludeBySource",[...n.$config.excludeBySource,c]),async function(e){const t="Open Setting";await s.window.showInformationMessage(`Excluded problem by source+code: "${e}"`,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens excludeBySource")}(c))};const n=o(265),r=o(968),i=o(301),s=o(398);async function a(e,t){const o=await s.window.showInputBox({title:`${e}: Exclude by message:`,value:t.message});o&&(n.$config.excludeByMessage.includes(o)||(await i.vscodeUtils.updateGlobalSetting("errorLens.excludeByMessage",[...n.$config.excludeByMessage,o]),async function(e){const t="Open Setting";await s.window.showInformationMessage(`Excluded problem by message: "${e}"`,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens errorLens.excludeByMessage")}(o)))}},628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0,t.Logger=class{constructor({isDev:e}){this.isEnabled=e}log(e,...t){this.innerLog("log",e,...t)}warn(e,...t){this.innerLog("warn",e,...t)}innerLog(e,t,...o){this.isEnabled&&(o.length?console[e](t,o):console[e](t))}}},659:(e,t,o)=>{var n=o(873),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),o=e[a];try{e[a]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[a]=o:delete e[a]),r}},687:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorationTypes=void 0,t.setDecorationStyle=function(e){let o;p(),a.extUtils.shouldShowGutterIcons()&&(o=(0,i.getGutterStyles)(e),r.$state.renderGutterIconsAsSeparateDecoration&&(t.decorationTypes.gutterError=l.window.createTextEditorDecorationType({gutterIconPath:o.errorIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.errorIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterWarning=l.window.createTextEditorDecorationType({gutterIconPath:o.warningIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.warningIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterInfo=l.window.createTextEditorDecorationType({gutterIconPath:o.infoIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.infoIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterHint=l.window.createTextEditorDecorationType({gutterIconPath:o.hintIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.hintIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),o=void 0));let n=new l.ThemeColor("errorLens.errorBackground"),s=new l.ThemeColor("errorLens.errorBackgroundLight");const c=new l.ThemeColor("errorLens.errorForeground"),g=new l.ThemeColor("errorLens.errorForegroundLight");let u=new l.ThemeColor("errorLens.errorMessageBackground"),f=new l.ThemeColor("errorLens.warningBackground"),h=new l.ThemeColor("errorLens.warningBackgroundLight");const m=new l.ThemeColor("errorLens.warningForeground"),v=new l.ThemeColor("errorLens.warningForegroundLight");let w=new l.ThemeColor("errorLens.warningMessageBackground"),b=new l.ThemeColor("errorLens.infoBackground"),$=new l.ThemeColor("errorLens.infoBackgroundLight");const I=new l.ThemeColor("errorLens.infoForeground"),C=new l.ThemeColor("errorLens.infoForegroundLight");let x=new l.ThemeColor("errorLens.infoMessageBackground"),y=new l.ThemeColor("errorLens.hintBackground"),S=new l.ThemeColor("errorLens.hintBackgroundLight");const L=new l.ThemeColor("errorLens.hintForeground"),T=new l.ThemeColor("errorLens.hintForegroundLight");let P=new l.ThemeColor("errorLens.hintMessageBackground");const D=new l.ThemeColor("errorLens.statusBarErrorForeground"),E=new l.ThemeColor("errorLens.statusBarWarningForeground"),U=new l.ThemeColor("errorLens.statusBarInfoForeground"),k=new l.ThemeColor("errorLens.statusBarHintForeground");"line"===r.$config.messageBackgroundMode?(u=void 0,w=void 0,x=void 0,P=void 0):"message"===r.$config.messageBackgroundMode?(n=void 0,s=void 0,f=void 0,h=void 0,b=void 0,$=void 0,y=void 0,S=void 0):"none"===r.$config.messageBackgroundMode&&(n=void 0,s=void 0,f=void 0,h=void 0,b=void 0,$=void 0,y=void 0,S=void 0,u=void 0,w=void 0,x=void 0,P=void 0);const M=r.$config.fontFamily?`font-family: ${r.$config.fontFamily}`:"",B=r.$config.padding?`padding: ${a.extUtils.addPxUnitsIfNeeded(r.$config.padding)}`:"",G=`border-radius: ${r.$config.borderRadius||"0"}`,A=r.$config.scrollbarHackEnabled?"position:absolute;pointer-events:none;top:50%;transform:translateY(-50%);":"";let F=r.$config.fontSize?`font-size: ${a.extUtils.addPxUnitsIfNeeded(r.$config.fontSize)}`:"";r.$config.fontSize.startsWith("-")&&(F=`font-size: ${(l.workspace.getConfiguration("editor").get("fontSize")||14)+(parseFloat(r.$config.fontSize)||0)}px`),d=`none;${M};${F};${G}`;const O={fontStyle:r.$config.fontStyleItalic?"italic":"normal",fontWeight:r.$config.fontWeight,margin:r.$config.margin?`0 0 0 ${a.extUtils.addPxUnitsIfNeeded(r.$config.margin)}`:"",textDecoration:`${d};${B};${A}`},_={backgroundColor:n,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.errorIconPath,after:{...O,border:r.$config.border?.[l.DiagnosticSeverity.Error]?r.$config.border[l.DiagnosticSeverity.Error]:void 0,color:c,backgroundColor:u,...r.$config.decorations?.errorMessage},light:{backgroundColor:s,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.errorIconPathLight,after:{color:g,...r.$config.decorations?.errorMessage,...r.$config.decorations?.errorMessage?.light}},isWholeLine:!0},j={backgroundColor:f,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.warningIconPath,after:{...O,border:r.$config.border?.[l.DiagnosticSeverity.Warning]?r.$config.border[l.DiagnosticSeverity.Warning]:void 0,color:m,backgroundColor:w,...r.$config.decorations?.warningMessage},light:{backgroundColor:h,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.warningIconPathLight,after:{color:v,...r.$config.decorations?.warningMessage,...r.$config.decorations?.warningMessage?.light}},isWholeLine:!0},R={backgroundColor:b,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.infoIconPath,after:{...O,border:r.$config.border?.[l.DiagnosticSeverity.Information]?r.$config.border[l.DiagnosticSeverity.Information]:void 0,color:I,backgroundColor:x,...r.$config.decorations?.infoMessage},light:{backgroundColor:$,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.infoIconPathLight,after:{color:C,...r.$config.decorations?.infoMessage,...r.$config.decorations?.infoMessage?.light}},isWholeLine:!0},W={backgroundColor:y,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.hintIconPath,after:{...O,border:r.$config.border?.[l.DiagnosticSeverity.Hint]?r.$config.border[l.DiagnosticSeverity.Hint]:void 0,color:L,backgroundColor:P,...r.$config.decorations?.hintMessage},light:{backgroundColor:S,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.hintIconPathLight,after:{color:T,...r.$config.decorations?.hintMessage,...r.$config.decorations?.hintMessage?.light}},isWholeLine:!0};a.extUtils.shouldShowInlineMessage()||(_.backgroundColor=void 0,_.after=void 0,_.light.backgroundColor=void 0,_.light.after=void 0,j.backgroundColor=void 0,j.after=void 0,j.light.backgroundColor=void 0,j.light.after=void 0,R.backgroundColor=void 0,R.after=void 0,R.light.backgroundColor=void 0,R.light.after=void 0,W.backgroundColor=void 0,W.after=void 0,W.light.backgroundColor=void 0,W.light.after=void 0),t.decorationTypes.error=l.window.createTextEditorDecorationType(_),t.decorationTypes.warning=l.window.createTextEditorDecorationType(j),t.decorationTypes.info=l.window.createTextEditorDecorationType(R),t.decorationTypes.hint=l.window.createTextEditorDecorationType(W),t.decorationTypes.errorRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.errorRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.errorRange}),t.decorationTypes.warningRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.warningRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.warningRange}),t.decorationTypes.infoRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.infoRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.infoRange}),t.decorationTypes.hintRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.hintRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.hintRange});const N={gutterIconPath:o?.transparent1x1Icon,light:{gutterIconPath:o?.transparent1x1Icon}};t.decorationTypes.transparent1x1Icon=l.window.createTextEditorDecorationType(N),r.$state.statusBarMessage.statusBarColors=[D,E,U,k]},t.clearDecorations=u,t.updateDecorationsForAllVisibleEditors=function(){if(!r.$config.onSave||r.$config.onSaveUpdateOnActiveEditorChange)for(const e of l.window.visibleTextEditors)r.$state.log("updateDecorationsForAllVisibleEditors()"),h({uri:e.document.uri,editor:e})},t.updateDecorationsForUri=h,t.disposeAllDecorations=p;const n=o(217),r=o(265),i=o(517),s=o(563),a=o(968),c=o(135),g=o(301),l=o(398);t.decorationTypes={};let d="";function u({editor:e}){e&&f({editor:e,groupedDiagnostics:{}})}function f({editor:e,groupedDiagnostics:o,range:g}){r.$state.log("doUpdateDecorations()",e.document.uri.toString(!0));const u=[],f=[],h=[],p=[],m=[],v=[],w=[],b=[];let $;if("closestProblem"===r.$config.followCursor){void 0===g&&(g=e.selection);const t=g.start.line,n=Object.entries(o).sort(((e,o)=>Math.abs(t-Number(e[0]))-Math.abs(t-Number(o[0]))));n.length=r.$config.followCursorMore+1,$=n.map((e=>e[1][0].range.start.line))}for(const t in o){const i=o[t],I=i[0];if(!I)continue;const C=I.severity;let x;x=a.extUtils.shouldShowInlineMessage()?a.extUtils.prepareMessage({diagnostic:I,template:r.$config.messageTemplate,lineProblemCount:i.length,removeLinebreaks:r.$config.removeLinebreaks,replaceLinebreaksSymbol:r.$config.replaceLinebreaksSymbol}):void 0;let y,S="";if(a.extUtils.shouldAlign()){const o=(0,n.getStyleForAlignment)({isMultilineDecoration:!1,alignmentKind:r.$config.alignMessage.useFixedPosition?"fixed":"normal",textLine:e.document.lineAt(Number(t)),indentSize:e.options.tabSize,indentStyle:e.options.insertSpaces?"spaces":"tab",minimumMargin:r.$config.alignMessage.minimumMargin,padding:r.$config.alignMessage.padding,minVisualLineLength:r.$config.alignMessage.start,start:r.$config.alignMessage.start,end:r.$config.alignMessage.end,problemMessage:x??""});S=o.styleStr,y=o.range,r.$config.alignMessage.start&&r.$config.alignMessage.end&&(x=c.utils.truncateString(x??"",r.$config.alignMessage.end-r.$config.alignMessage.start-1))}const L={after:{contentText:x,textDecoration:a.extUtils.shouldAlign()?`${d};${S}`:void 0}};let T;if("allLines"===r.$config.followCursor)T=I.range;else{void 0===g&&(g=e.selection);const t=I.range;if("activeLine"===r.$config.followCursor){const e=g.start.line-r.$config.followCursorMore,o=g.end.line+r.$config.followCursorMore;t.start.line>=e&&t.start.line<=o&&(T=t)}else"allLinesExceptActive"===r.$config.followCursor?T=t.start.line===g.start.line?void 0:t:"closestProblem"===r.$config.followCursor&&$.includes(t.start.line)&&(T=t);if(!T)continue}const P={range:y??new l.Range(T.start.line,T.start.character,T.start.line,T.start.character),hoverMessage:(0,s.createHoverForDiagnostic)({diagnostic:I,buttonsEnabled:r.$config.editorHoverPartsEnabled.buttonsEnabled,messageEnabled:r.$config.editorHoverPartsEnabled.messageEnabled,sourceCodeEnabled:r.$config.editorHoverPartsEnabled.sourceCodeEnabled,lintFilePaths:r.$config.lintFilePaths}),renderOptions:L};switch(C){case l.DiagnosticSeverity.Error:u.push(P),r.$config.problemRangeDecorationEnabled&&m.push({range:T});break;case l.DiagnosticSeverity.Warning:f.push(P),r.$config.problemRangeDecorationEnabled&&v.push({range:T});break;case l.DiagnosticSeverity.Information:h.push(P),r.$config.problemRangeDecorationEnabled&&w.push({range:T});break;case l.DiagnosticSeverity.Hint:p.push(P),r.$config.problemRangeDecorationEnabled&&b.push({range:T})}}a.extUtils.shouldShowGutterIcons()&&(0,i.updateWorkaroundGutterIcon)(e),e.setDecorations(t.decorationTypes.error,u),e.setDecorations(t.decorationTypes.warning,f),e.setDecorations(t.decorationTypes.info,h),e.setDecorations(t.decorationTypes.hint,p),r.$config.problemRangeDecorationEnabled&&(e.setDecorations(t.decorationTypes.errorRange,m),e.setDecorations(t.decorationTypes.warningRange,v),e.setDecorations(t.decorationTypes.infoRange,w),e.setDecorations(t.decorationTypes.hintRange,b)),r.$state.renderGutterIconsAsSeparateDecoration&&(0,i.doUpdateGutterDecorations)(e,o),r.$state.statusBarMessage.updateText(e,o),r.$state.codeLens?.update()}function h({uri:e,editor:t,groupedDiagnostics:o,range:n}){if(void 0===t&&(t=g.vscodeUtils.getEditorByUri(e)),!t)return;if(!t.document.uri.fsPath)return;const r=a.extUtils.shouldExcludeEditor(t);"exclude"!==r&&("excludeAndClearDecorations"!==r?f({editor:t,groupedDiagnostics:o??a.extUtils.groupDiagnosticsByLine(l.languages.getDiagnostics(e)),range:n}):u({editor:t}))}function p(){for(const e of Object.values(t.decorationTypes))e?.dispose()}},707:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorLensCodeLens=void 0;const n=o(265),r=o(135),i=o(301),s=o(398),a=o(968);t.ErrorLensCodeLens=class{constructor(e){this.isHidden=!1,this.onDidChangeEventEmitter=new s.EventEmitter,this.onDidChangeCodeLenses=this.onDidChangeEventEmitter.event,this.disposables=[this.onDidChangeEventEmitter,s.languages.registerCodeLensProvider("*",this)]}formatDiagnostic(e){return a.extUtils.prepareMessage({template:n.$config.codeLensTemplate,diagnostic:e,lineProblemCount:1,removeLinebreaks:!0,replaceLinebreaksSymbol:n.$config.replaceLinebreaksSymbol})}createTooltip(e){return e.map(this.formatDiagnostic).join("\n")}createTitle(e){const t=this.formatDiagnostic(e);return r.utils.truncateString(t,n.$config.codeLensLength.max).padEnd(n.$config.codeLensLength.min,"â €")}provideCodeLenses(e,t){const o=i.vscodeUtils.getEditorByUri(e.uri);if(!o)return[];if(!this.isEnabled())return[];const n=a.extUtils.shouldExcludeEditor(o);if("exclude"===n||"excludeAndClearDecorations"===n)return[];const r=a.extUtils.groupDiagnosticsByLine(s.languages.getDiagnostics(e.uri)),c=[];for(const e in r){const t=r[e];for(const o of t)c.push(new s.CodeLens(new s.Range(Number(e),0,Number(e),0),{title:this.createTitle(o),command:"errorLens.codeLensOnClick",tooltip:this.createTooltip(t),arguments:[o]}))}return c}isEnabled(){return!(!n.$config.enabled||n.$config.onSave&&this.isHidden||n.$config.delay>0&&this.isHidden)}update(){this.onDidChangeEventEmitter.fire()}hide(){this.isHidden=!0}show(){this.isHidden=!1,this.update()}dispose(){this.update(),setInterval((()=>{for(const e of this.disposables)e?.dispose();this.disposables=[]}),500)}}},712:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarMessage=void 0;const n=o(265),r=o(563),i=o(968),s=o(135),a=o(398);t.StatusBarMessage=class{constructor({isEnabled:e,colorsEnabled:t,messageType:o,priority:n,alignment:r}){this.statusBarColors=[],this.activeMessageText="",this.activeMessageSource="";const i="right"===r?a.StatusBarAlignment.Right:a.StatusBarAlignment.Left;this.isEnabled=e,this.colorsEnabled=t,this.messageType=o,this.statusBarItem=a.window.createStatusBarItem("errorLensMessage",i,n),this.statusBarItem.name="Error Lens: Message",this.statusBarItem.command="errorLens.statusBarCommand",this.isEnabled?this.statusBarItem.show():this.dispose()}updateText(e,t){if(!this.isEnabled)return;const o=Object.keys(t);if(0===o.length)return void this.clear();const r=e.selection.active.line;let c,g=0;if("activeLine"===this.messageType){if(!t[r])return void this.clear();c=t[r][0],g=t[r].length}else if("activeCursor"===this.messageType)t[r]&&(c=t[r].sort(((e,t)=>{const o=this.distanceInCharachtersToCursor(e),n=this.distanceInCharachtersToCursor(t);return o===n?e.severity-t.severity:o-n}))[0]);else if("closestProblem"===this.messageType){const e=o.map(Number).sort(((e,t)=>Math.abs(r-e)-Math.abs(r-t)));e:for(const o of e){const e=t[o];for(const t of e)if(i.extUtils.isSeverityEnabled(t.severity)){c=t,g=e.length;break e}}}else if("closestSeverity"===this.messageType){const e=o.map((e=>t[e])).flat().sort(((e,t)=>1e4*e.severity-1e4*t.severity+(Math.abs(r-e.range.start.line)-Math.abs(r-t.range.start.line))));for(const o of e)if(i.extUtils.isSeverityEnabled(o.severity)){c=o,g=t[o.range.start.line].length;break}}if(!c)return void this.clear();this.activeMessageLocation=new a.Location(e.document.uri,c.range.start);let l=i.extUtils.diagnosticToInlineMessage(n.$config.statusBarMessageTemplate||n.$config.messageTemplate,c,g);n.$config.removeLinebreaks&&(l=s.utils.replaceLinebreaks(l,n.$config.replaceLinebreaksSymbol)),this.activeMessageText=l,this.activeMessageSource=c.source,this.colorsEnabled&&(this.statusBarItem.color=this.statusBarColors[c.severity]),this.statusBarItem.text=l,this.statusBarItem.tooltip=this.makeTooltip(c,n.$config.lintFilePaths)}clear(){this.isEnabled&&(this.statusBarItem.text="",this.statusBarItem.tooltip="")}distanceInCharachtersToCursor(e){const t=a.window.activeTextEditor?.selection.active;return t?e.range.contains(t)?0:Math.min(Math.abs(e.range.start.character-t.character),Math.abs(e.range.end.character-t.character)):0}dispose(){this.statusBarItem.dispose()}makeTooltip(e,t){return(0,r.createHoverForDiagnostic)({diagnostic:e,buttonsEnabled:!0,messageEnabled:!0,sourceCodeEnabled:!0,lintFilePaths:t})}}},795:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateChangedActiveTextEditorListener=function(){h?.dispose(),h=u.window.onDidChangeActiveTextEditor((e=>{c.$state.log("onDidChangeActiveTextEditor()",e?.document.uri.toString(!0)),c.$config.onSave&&!c.$config.onSaveUpdateOnActiveEditorChange||(e?(0,i.updateDecorationsForUri)({uri:e.document.uri,editor:e}):c.$state.statusBarMessage.clear())}))},t.updateChangeVisibleTextEditorsListener=function(){p?.dispose(),p=u.window.onDidChangeVisibleTextEditors(i.updateDecorationsForAllVisibleEditors)},t.updateChangeDiagnosticListener=function(){if(f?.dispose(),!c.$config.onSave)if("number"==typeof c.$config.delay&&c.$config.delay>0){const e=Math.max(c.$config.delay,500)||500;if("old"===c.$config.delayMode){const t=new s.CustomDelay(e);f=u.languages.onDidChangeDiagnostics(t.onDiagnosticChange)}else"debounce"===c.$config.delayMode?f=u.languages.onDidChangeDiagnostics((0,r.default)((e=>{I(e)}),e)):"new"===c.$config.delayMode&&($?.dispose(),$=new a.NewDelay(e),f=u.languages.onDidChangeDiagnostics($.onDiagnosticChange))}else f=u.languages.onDidChangeDiagnostics(I)},t.updateCursorChangeListener=function(){m?.dispose();const e="activeLine"===c.$config.followCursor||"closestProblem"===c.$config.followCursor||"allLinesExceptActive"===c.$config.followCursor;if(e||l.extUtils.shouldShowStatusBarMessage()){let t=-1;m=u.window.onDidChangeTextEditorSelection((o=>{const n=o.selections[0];(function(e,t){return 1===e.length&&e[0].isEmpty&&t!==e[0].active.line})(o.selections,t)&&(c.$state.log("caret moved to another line"),e&&(0,i.updateDecorationsForUri)({uri:o.textEditor.document.uri,editor:o.textEditor,range:n}),l.extUtils.shouldShowStatusBarMessage()&&c.$state.statusBarMessage.updateText(o.textEditor,l.extUtils.groupDiagnosticsByLine(u.languages.getDiagnostics(o.textEditor.document.uri))),t=o.selections[0].active.line),"activeCursor"===c.$config.statusBarMessageType&&c.$state.statusBarMessage.updateText(o.textEditor,l.extUtils.groupDiagnosticsByLine(u.languages.getDiagnostics(o.textEditor.document.uri)))}))}},t.updateOnSaveListener=function(){b?.dispose(),w?.dispose(),c.$config.onSave&&(b=u.workspace.onWillSaveTextDocument((e=>{c.$state.log("onWillSaveTextDocument()"),e.reason===u.TextDocumentSaveReason.Manual&&setTimeout((()=>{(0,i.updateDecorationsForUri)({uri:e.document.uri}),c.$state.codeLens?.show()}),c.$config.onSaveTimeout)})),w=u.workspace.onDidChangeTextDocument((e=>{(0,i.clearDecorations)({editor:d.vscodeUtils.getEditorByUri(e.document.uri)}),c.$state.codeLens?.hide()})))},t.updateChangeBreakpointsListener=function(){v?.dispose(),l.extUtils.shouldShowGutterIcons()&&(v=u.debug.onDidChangeBreakpoints((()=>{for(const e of u.window.visibleTextEditors)(0,g.updateWorkaroundGutterIcon)(e)})))},t.disposeAllEventListeners=function(){p?.dispose(),f?.dispose(),h?.dispose(),m?.dispose(),v?.dispose(),b?.dispose(),w?.dispose(),$?.dispose()};const r=n(o(221)),i=o(687),s=o(934),a=o(59),c=o(265),g=o(517),l=o(968),d=o(301),u=o(398);let f,h,p,m,v,w,b,$;function I(e){if(0!==u.window.visibleTextEditors.filter((e=>"vscode-notebook-cell"===e.document.uri.scheme)).length)(0,i.updateDecorationsForAllVisibleEditors)();else{for(const t of e.uris)for(const e of u.window.visibleTextEditors)t.toString(!0)===e.document.uri.toString(!0)&&(c.$state.log("onChangedDiagnostics()"),(0,i.updateDecorationsForUri)({uri:t,editor:e}));c.$state.statusBarIcons.updateText()}}},800:e=>{var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},873:(e,t,o)=>{var n=o(325).Symbol;e.exports=n},897:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleEnabledLevels=async function(e,t){const o=t.indexOf(e);-1===o?t.push(e):t.splice(o,1),await n.vscodeUtils.updateGlobalSetting("errorLens.enabledDiagnosticLevels",t)};const n=o(301)},916:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAllCommands=function(e){e.subscriptions.push(w.commands.registerCommand("errorLens.toggle",(()=>{v.vscodeUtils.updateGlobalSetting("errorLens.enabled",!m.$config.enabled)}))),e.subscriptions.push(w.commands.registerCommand("errorLens.toggleError",(()=>{(0,f.toggleEnabledLevels)("error",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(w.commands.registerCommand("errorLens.toggleWarning",(()=>{(0,f.toggleEnabledLevels)("warning",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(w.commands.registerCommand("errorLens.toggleInfo",(()=>{(0,f.toggleEnabledLevels)("info",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(w.commands.registerCommand("errorLens.toggleHint",(()=>{(0,f.toggleEnabledLevels)("hint",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(w.commands.registerCommand("errorLens.toggleInlineMessage",(()=>{v.vscodeUtils.toggleGlobalBooleanSetting("errorLens.messageEnabled")}))),e.subscriptions.push(w.commands.registerCommand("errorlens.toggleWorkspace",h.toggleWorkspaceCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.updateEverything",p.updateEverythingCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.findLinterRuleDefinition",c.findLinterRuleDefinitionCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.searchForProblem",l.searchForProblemCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.copyProblemCode",r.copyProblemCodeCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.disableLine",s.disableLineCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.copyProblemMessage",i.copyProblemMessageCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.excludeProblem",a.excludeProblemCommand)),e.subscriptions.push(w.commands.registerTextEditorCommand("errorLens.selectProblem",d.selectProblemCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.codeLensOnClick",n.codeLensOnClickCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.revealLine",g.revealLineCommand)),e.subscriptions.push(w.commands.registerCommand("errorLens.statusBarCommand",u.statusBarCommand))};const n=o(158),r=o(149),i=o(247),s=o(84),a=o(573),c=o(476),g=o(559),l=o(572),d=o(923),u=o(955),f=o(897),h=o(477),p=o(314),m=o(265),v=o(301),w=o(398)},923:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProblemCommand=function(e){let t;"closestProblem"===n.$config.selectProblemType?t=r.extUtils.getClosestDiagnostic(e):"closestSeverity"===n.$config.selectProblemType?t=r.extUtils.getClosestBySeverityDiagnostic(e):"activeLine"===n.$config.selectProblemType&&(t=r.extUtils.getDiagnosticAtLine(e.document.uri,e.selection.active.line)),t&&(e.selection=new i.Selection(t.range.start,t.range.end),e.revealRange(t.range))};const n=o(265),r=o(968),i=o(398)},934:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDelay=void 0;const r=n(o(221)),i=n(o(969)),s=o(687),a=o(265),c=o(968),g=o(398);t.CustomDelay=class{constructor(e){this.cachedDiagnostics={},this.onDiagnosticChange=e=>{if(e.uris.length)for(const t of e.uris)this.updateCachedDiagnosticForUri(t);else this.cachedDiagnostics={}},this.updateCachedDiagnosticForUri=e=>{const t=e.toString(),o=g.languages.getDiagnostics(e),n=this.cachedDiagnostics[t],r={[t]:{}};for(const e of o)r[t]&&(r[t][this.convertDiagnosticToId(e)]=e);if(n){const o=r[t],i=Object.keys(n),s=Object.keys(o);for(const t of i)if(!s.includes(t))return void this.updateDecorationsThrottled(e);for(const t of s)if(!i.includes(t))return void this.updateDecorationsDebounced(e)}else this.cachedDiagnostics[t]=r[t],this.updateDecorationsThrottled(e)},this.updateDecorations=e=>{const t=e.toString(),o=g.languages.getDiagnostics(e),n=c.extUtils.groupDiagnosticsByLine(o);this.cachedDiagnostics[t]={};for(const e of o)this.cachedDiagnostics[t][this.convertDiagnosticToId(e)]=e;for(const t of g.window.visibleTextEditors)t.document.uri.toString(!0)===e.toString(!0)&&(a.$state.log("CustomDelay => updateDecorations()"),(0,s.updateDecorationsForUri)({uri:e,editor:t,groupedDiagnostics:n}));a.$state.statusBarIcons.updateText()},this.updateDecorationsThrottled=(0,i.default)(this.updateDecorations,300,{leading:!0,trailing:!0}),this.updateDecorationsDebounced=(0,r.default)(this.updateDecorationsThrottled,e,{leading:!1,trailing:!0})}convertDiagnosticToId(e){return`${e.range.start.line}_${e.message}`}}},955:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusBarCommand=async function(){if("goToLine"===n.$config.statusBarCommand||"goToProblem"===n.$config.statusBarCommand){const e=n.$state.statusBarMessage.activeMessageLocation;if(!e)return;const t=r.vscodeUtils.getEditorByUri(e.uri);if(!t)return;await i.window.showTextDocument(t.document),t.selection=new i.Selection(e.range.start,e.range.end),t.revealRange(e.range,i.TextEditorRevealType.Default),await i.commands.executeCommand("workbench.action.focusActiveEditorGroup"),"goToProblem"===n.$config.statusBarCommand&&i.commands.executeCommand("editor.action.marker.next")}else if("copyMessage"===n.$config.statusBarCommand){const e=n.$state.statusBarMessage.activeMessageSource?`[${n.$state.statusBarMessage.activeMessageSource}] `:"";i.env.clipboard.writeText(e+n.$state.statusBarMessage.activeMessageText)}};const n=o(265),r=o(301),i=o(398)},968:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extUtils=void 0;const n=o(265),r=o(135),i=o(398);t.extUtils={prepareMessage({template:e,diagnostic:o,lineProblemCount:i,removeLinebreaks:s,replaceLinebreaksSymbol:a}){e||(e="$message");const c=t.extUtils.diagnosticToInlineMessage(e,o,i);return r.utils.truncateString(s?r.utils.replaceLinebreaks(c,a):c,n.$config.messageMaxChars)},_VscodeDiagnosticsArrayToObject:e=>e.map((e=>({uri:e[0],diagnostics:e[1]}))),getDiagnostics(e){const t=i.languages.getDiagnostics();let o=[];if(void 0===e||"all"===e.target)o=this._VscodeDiagnosticsArrayToObject(t);else if("activeEditor"===e.target)o=this._VscodeDiagnosticsArrayToObject(t).filter((e=>e.uri.toString(!0)===i.window.activeTextEditor?.document.uri.toString(!0)));else if("visibleEditors"===e.target){const e=[];for(const o of this._VscodeDiagnosticsArrayToObject(t))for(const t of i.window.visibleTextEditors)t.document.uri.toString(!0)===o.uri.toString(!0)&&e.push(o);o=e}return o},getDiagnosticTarget:e=>"number"!=typeof e.code&&"string"!=typeof e.code&&e.code?.target,getDiagnosticCode(e){const t="string"==typeof e.code||"number"==typeof e.code?e.code:e.code?.value;if(void 0!==t)return String(t)},parseSourceCodeFromString(e){const t=/(?<source>[^()]+)(?:\((?<code>.+)\))?/u.exec(e),o=t?.groups?.source,n=t?.groups?.code;return{source:o,code:n}},diagnosticToSourceCodeString:(e,t)=>`${e}${t?`(${t})`:""}`,groupDiagnosticsByLine(e){const o={};for(const n of e){if(t.extUtils.shouldExcludeDiagnostic(n))continue;const e=n.range.start.line;o[e]?o[e].push(n):o[e]=[n]}for(const e in o)o[e]=o[e].sort(((e,t)=>e.severity-t.severity));return o},shouldExcludeDiagnostic(e){if(!t.extUtils.isSeverityEnabled(e.severity))return!0;if(e.source)for(const t of n.$state.excludeSources)if(t.source===e.source){let o="";if("number"==typeof e.code?o=String(e.code):"string"==typeof e.code?o=e.code:e.code?.value&&(o=String(e.code.value)),!t.code)return!0;if(t.code&&o&&t.code===o)return!0}for(const t of n.$state.excludeRegexp)if(t.test(e.message))return!0;const o=e.message.toLocaleLowerCase();for(const e of n.$state.excludeByMessage.strings)if(o.includes(e))return!0;for(const t of n.$state.excludeByMessage.regexps)if(t.test(e.message))return!0;return!1},shouldExcludeEditor(e){if(n.$config.ignoreUntitled&&"untitled"===e.document.uri.scheme)return"excludeAndClearDecorations";if(n.$config.ignoreDirty&&!n.$state.vscodeAutosaveEnabled&&e.document.isDirty)return"excludeAndClearDecorations";if(!n.$config.enableOnDiffView&&void 0===e.viewColumn&&"vscode-notebook-cell"!==e.document.uri.scheme)return"excludeAndClearDecorations";if(!n.$config.enabledInMergeConflict){const t=e.document.getText();if(t.includes("<<<<<<<")||t.includes("=======")||t.includes(">>>>>>>"))return"excludeAndClearDecorations"}if(n.$state.excludePatterns)for(const t of n.$state.excludePatterns)if(0!==i.languages.match(t,e.document))return"exclude";const t=i.workspace.getWorkspaceFolder(e.document.uri)?.uri.fsPath;return t&&n.$config.excludeWorkspaces.includes(t)?"exclude":"doNotExclude"},isSeverityEnabled:e=>0===e&&n.$state.configErrorEnabled||1===e&&n.$state.configWarningEnabled||2===e&&n.$state.configInfoEnabled||3===e&&n.$state.configHintEnabled,diagnosticToInlineMessage(e,t,o){let r=t?.message;if(!r)return"";if(n.$state.replaceRegexp)for(const e of n.$state.replaceRegexp){const t=e.matcher.exec(r);if(t){r=e.message;for(let e=0;e<t.length;e++)r=r.replace(new RegExp(`\\$${e}`,"gu"),t[Number(e)]);break}}if("$message"===e)return r;{let i=e.replace("$message",r).replace("$severity",n.$config.severityText[t.severity]||"").replace("$lineStart",String(t.range.start.line+1)).replace("$lineEnd",String(t.range.end.line+1));if(e.includes("$count")&&(i=o>1?i.replace("$count",String(o)):i.replace(/(\s*?)?(\S*?)?(\$count)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))),e.includes("$source")&&(i=t.source?i.replace("$source",String(t.source)):i.replace(/(\s*?)?(\S*?)?(\$source)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))),e.includes("$code")){const e="object"==typeof t.code?String(t.code.value):String(t.code);i=t.code?i.replace("$code",e):i.replace(/(\s*?)?(\S*?)?(\$code)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))}return i}},getDiagnosticAtLine(e,o){const n=i.languages.getDiagnostics(e),r=t.extUtils.groupDiagnosticsByLine(n)[o];if(r)return r[0]},getClosestDiagnostic(e){const o=t.extUtils.groupDiagnosticsByLine(i.languages.getDiagnostics(e.document.uri)),n=Object.keys(o),r=e.selection.active.line,s=n.map(Number).sort(((e,t)=>Math.abs(r-e)-Math.abs(r-t)));for(const e of s){const n=o[e];for(const e of n)if(t.extUtils.isSeverityEnabled(e.severity))return e}},getClosestBySeverityDiagnostic(e){const o=t.extUtils.groupDiagnosticsByLine(i.languages.getDiagnostics(e.document.uri)),n=Object.keys(o),r=e.selection.active.line,s=n.map((e=>o[e])).flat().sort(((e,t)=>1e4*e.severity-1e4*t.severity+(Math.abs(r-e.range.start.line)-Math.abs(r-t.range.start.line))));for(const e of s)if(t.extUtils.isSeverityEnabled(e.severity))return e},getClosestDiagnosticInViewport(e){const o=t.extUtils.groupDiagnosticsByLine(i.languages.getDiagnostics(e.document.uri)),n=e.selection.active.line;for(const n in o){const r=o[n][0];t.extUtils.isDiagnosticInViewport(e,r)||delete o[n]}const r=o,s=Object.keys(r).sort(((e,t)=>Math.abs(n-Number(e))-Math.abs(n-Number(t))));for(const e of s){const n=o[e];for(const e of n)if(t.extUtils.isSeverityEnabled(e.severity))return e}},isDiagnosticInViewport(e,t){for(const o of e.visibleRanges)if(o.intersection(t.range))return!0;return!1},getVisualLineLength(e,t,o){if("spaces"===o)return e.range.end.character;{const o=e.text.slice(0,e.firstNonWhitespaceCharacterIndex).replace(/[^\t]/gu,""),n=o.length,r=e.text.slice(n);return o.length*t+r.length}},shouldAlign:()=>Boolean(n.$config.alignMessage.start||n.$config.alignMessage.end),shouldShowInlineMessage(){const e=n.$config.messageEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.inlineMessage?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowGutterIcons(){const e=n.$config.gutterIconsEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.gutter?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowStatusBarIcons(){const e=n.$config.statusBarIconsEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.statusBar?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowStatusBarMessage(){const e=n.$config.statusBarMessageEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.statusBar?e&&n.$state.vscodeGlobalProblemsEnabled:e},addPxUnitsIfNeeded:e=>/^\d+$/u.test(e)?`${e}px`:e}},969:(e,t,o)=>{var n=o(221),r=o(805);e.exports=function(e,t,o){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(o)&&(i="leading"in o?!!o.leading:i,s="trailing"in o?!!o.trailing:s),n(e,t,{leading:i,maxWait:t,trailing:s})}}},t={},o=function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}(265);module.exports=o})();