"use strict";exports.id=622,exports.ids=[622],exports.modules={1323:(e,t,n)=>{n.d(t,{CreateTokenCommand:()=>Le,SSOOIDCClient:()=>le});var r=n(36),s=n(39),o=n(40),i=n(41),a=n(45),c=n(81),p=n(82),d=n(83),u=n(47),h=n(48),l=n(54),m=n(58),w=n(69),x=n(46);const f=async(e,t,n)=>({operation:(0,x.u)(t).operation,region:await(0,x.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const y=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},E={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var S=n(1324),v=n(78),g=n(79),b=n(72),I=n(74),P=n(49),O=n(64),$=n(75),k=n(55),C=n(76),j=n(1322),D=n(52),T=n(60),A=n(63),_=n(43),z=n(44);const R="required",U="fn",q="argv",F="ref",G=!0,H="isSet",V="booleanEquals",M="error",N="endpoint",B="tree",J="PartitionResult",L="getAttr",W={[R]:!1,type:"String"},K={[R]:!0,default:!1,type:"Boolean"},Q={[F]:"Endpoint"},X={[U]:V,[q]:[{[F]:"UseFIPS"},!0]},Y={[U]:V,[q]:[{[F]:"UseDualStack"},!0]},Z={},ee={[U]:L,[q]:[{[F]:J},"supportsFIPS"]},te={[F]:J},ne={[U]:V,[q]:[!0,{[U]:L,[q]:[te,"supportsDualStack"]}]},re=[X],se=[Y],oe=[{[F]:"Region"}],ie={version:"1.0",parameters:{Region:W,UseDualStack:K,UseFIPS:K,Endpoint:W},rules:[{conditions:[{[U]:H,[q]:[Q]}],rules:[{conditions:re,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:M},{conditions:se,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:M},{endpoint:{url:Q,properties:Z,headers:Z},type:N}],type:B},{conditions:[{[U]:H,[q]:oe}],rules:[{conditions:[{[U]:"aws.partition",[q]:oe,assign:J}],rules:[{conditions:[X,Y],rules:[{conditions:[{[U]:V,[q]:[G,ee]},ne],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Z,headers:Z},type:N}],type:B},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:M}],type:B},{conditions:re,rules:[{conditions:[{[U]:V,[q]:[ee,G]}],rules:[{conditions:[{[U]:"stringEquals",[q]:[{[U]:L,[q]:[te,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Z,headers:Z},type:N},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Z,headers:Z},type:N}],type:B},{error:"FIPS is enabled but this partition does not support FIPS",type:M}],type:B},{conditions:se,rules:[{conditions:[ne],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Z,headers:Z},type:N}],type:B},{error:"DualStack is enabled but this partition does not support DualStack",type:M}],type:B},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Z,headers:Z},type:N}],type:B}],type:B},{error:"Invalid Configuration: Missing Region",type:M}]},ae=new z.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ce=(e,t={})=>ae.get(e,(()=>(0,z.sO)(ie,{endpointParams:e,logger:t.logger})));z.mw.aws=_.UF;var pe=n(77);const de=e=>{(0,m.I9)(process.version);const t=(0,pe.I)(e),n=()=>t().then(m.lT),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??T.E,base64Encoder:e?.base64Encoder??T.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ce,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??y,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new C.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new j.m}],logger:e?.logger??new m.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??D.D,utf8Decoder:e?.utf8Decoder??A.ar,utf8Encoder:e?.utf8Encoder??A.Pq}))(e);(0,v.I)(process.version);const s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,P.Z)(g.$,s),bodyLengthChecker:e?.bodyLengthChecker??$.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,b.pf)({serviceId:r.serviceId,clientVersion:S.rE}),maxAttempts:e?.maxAttempts??(0,P.Z)(l.qs,e),region:e?.region??(0,P.Z)(a.GG,{...a.zH,...s}),requestHandler:O.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,P.Z)({...l.kN,default:async()=>(await n()).retryMode||k.L0},e),sha256:e?.sha256??I.V.bind(null,"sha256"),streamCollector:e?.streamCollector??O.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,P.Z)(a.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,P.Z)(a.Ko,s),userAgentAppId:e?.userAgentAppId??(0,P.Z)(b.hV,s)}};var ue=n(80),he=n(37);class le extends m.Kj{config;constructor(...[e]){const t=de(e||{});super(t),this.initConfig=t;const n=(y=t,Object.assign(y,{useDualstackEndpoint:y.useDualstackEndpoint??!1,useFipsEndpoint:y.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}));var y;const E=(0,i.Dc)(n),S=(0,l.$z)(E),v=(0,a.TD)(S),g=(0,r.OV)(v),b=((e,t)=>{const n=Object.assign((0,ue.Rq)(e),(0,m.xA)(e),(0,he.eS)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach((e=>e.configure(n))),Object.assign(e,(0,ue.$3)(n),(0,m.uv)(n),(0,he.jt)(n),{httpAuthSchemes:(r=n).httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()});var r})((e=>{const t=(0,w.h)(e);return Object.assign(t,{authSchemePreference:(0,x.t)(e.authSchemePreference??[])})})((0,h.Co)(g)),e?.extensions||[]);this.config=b,this.middlewareStack.use((0,i.sM)(this.config)),this.middlewareStack.use((0,l.ey)(this.config)),this.middlewareStack.use((0,u.vK)(this.config)),this.middlewareStack.use((0,r.TC)(this.config)),this.middlewareStack.use((0,s.Y7)(this.config)),this.middlewareStack.use((0,o.n4)(this.config)),this.middlewareStack.use((0,c.w)(this.config,{httpAuthSchemeParametersProvider:f,identityProviderConfigProvider:async e=>new p.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.l)(this.config))}destroy(){super.destroy()}}var me=n(53);class we extends m.TJ{constructor(e){super(e),Object.setPrototypeOf(this,we.prototype)}}class xe extends we{name="AccessDeniedException";$fault="client";error;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,xe.prototype),this.error=e.error,this.error_description=e.error_description}}class fe extends we{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,fe.prototype),this.error=e.error,this.error_description=e.error_description}}const ye=e=>({...e,...e.clientSecret&&{clientSecret:m.$H},...e.refreshToken&&{refreshToken:m.$H},...e.codeVerifier&&{codeVerifier:m.$H}}),Ee=e=>({...e,...e.accessToken&&{accessToken:m.$H},...e.refreshToken&&{refreshToken:m.$H},...e.idToken&&{idToken:m.$H}});class Se extends we{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,Se.prototype),this.error=e.error,this.error_description=e.error_description}}class ve extends we{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,ve.prototype),this.error=e.error,this.error_description=e.error_description}}class ge extends we{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,ge.prototype),this.error=e.error,this.error_description=e.error_description}}class be extends we{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,be.prototype),this.error=e.error,this.error_description=e.error_description}}class Ie extends we{name="InvalidRequestException";$fault="client";error;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,Ie.prototype),this.error=e.error,this.error_description=e.error_description}}class Pe extends we{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,Pe.prototype),this.error=e.error,this.error_description=e.error_description}}class Oe extends we{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,Oe.prototype),this.error=e.error,this.error_description=e.error_description}}class $e extends we{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,$e.prototype),this.error=e.error,this.error_description=e.error_description}}class ke extends we{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,ke.prototype),this.error=e.error,this.error_description=e.error_description}}var Ce=n(84),je=n(1321);const De=async(e,t)=>{const n=(0,je.l)(e,t);let r;return n.bp("/token"),r=JSON.stringify((0,m.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,m.Ss)(e)})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},Te=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Ae(e,t);const n=(0,m.Tj)({$metadata:Je(e)}),r=(0,m.Y0)((0,m.Xk)(await(0,Ce.Y2)(e.body,t)),"body"),s=(0,m.s)(r,{accessToken:m.lK,expiresIn:m.ET,idToken:m.lK,refreshToken:m.lK,tokenType:m.lK});return Object.assign(n,s),n},Ae=async(e,t)=>{const n={...e,body:await(0,Ce.CG)(e.body,t)},r=(0,Ce.cJ)(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await ze(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Re(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Ue(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await qe(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Fe(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Ge(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await He(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ve(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Me(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Ne(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Be(n,t);default:const s=n.body;return _e({output:e,parsedBody:s,errorCode:r})}},_e=(0,m.jr)(we),ze=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new xe({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Re=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new fe({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Ue=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new Se({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},qe=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new ve({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Fe=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new ge({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Ge=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new be({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},He=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new Ie({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Ve=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new Pe({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Me=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new Oe({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Ne=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new $e({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Be=async(e,t)=>{const n=(0,m.Tj)({}),r=e.body,s=(0,m.s)(r,{error:m.lK,error_description:m.lK});Object.assign(n,s);const o=new ke({$metadata:Je(e),...n});return(0,m.Mw)(o,e.body)},Je=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});class Le extends(m.uB.classBuilder().ep(E).m((function(e,t,n,r){return[(0,me.TM)(n,this.serialize,this.deserialize),(0,h.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(ye,Ee).ser(De).de(Te).build()){}const We={CreateTokenCommand:Le};(0,m.J1)(We,class extends le{})},1321:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(37),s=n(68);function o(e,t){return new i(e,t)}class i{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const e of this.resolvePathStack)e(this.path);return new r.Kd({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e})),this}p(e,t,n,r){return this.resolvePathStack.push((o=>{this.path=((e,t,n,r,o,i)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,i?t.split("/").map((e=>(0,s.$)(e))).join("/"):(0,s.$)(t))}return e})(o,this.input,e,t,n,r)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}},1322:(e,t,n)=>{n.d(t,{m:()=>r});class r{async sign(e,t,n){return e}}},1324:e=>{e.exports={rE:"3.848.0"}}};