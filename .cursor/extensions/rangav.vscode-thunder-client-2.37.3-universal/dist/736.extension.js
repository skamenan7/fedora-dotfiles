"use strict";exports.id=736,exports.ids=[736],exports.modules={1320:(t,e,s)=>{s.d(e,{GetRoleCredentialsCommand:()=>D,SSOClient:()=>Mt});var n=s(48),o=s(53),r=s(58);const i={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class a extends r.TJ{constructor(t){super(t),Object.setPrototypeOf(this,a.prototype)}}class c extends a{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,c.prototype)}}class u extends a{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,u.prototype)}}class p extends a{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,p.prototype)}}class d extends a{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,d.prototype)}}const h=t=>({...t,...t.accessToken&&{accessToken:r.$H}}),l=t=>({...t,...t.secretAccessKey&&{secretAccessKey:r.$H},...t.sessionToken&&{sessionToken:r.$H}}),m=t=>({...t,...t.roleCredentials&&{roleCredentials:l(t.roleCredentials)}});var y=s(84),g=s(1321);const f=async(t,e)=>{const s=(0,g.l)(t,e),n=(0,r.Tj)({},r.eU,{[q]:t[k]});s.bp("/federation/credentials");const o=(0,r.Tj)({[O]:[,(0,r.Y0)(t[C],"roleName")],[A]:[,(0,r.Y0)(t[I],"accountId")]});return s.m("GET").h(n).q(o).b(undefined),s.build()},w=async(t,e)=>{if(200!==t.statusCode&&t.statusCode>=300)return S(t,e);const s=(0,r.Tj)({$metadata:R(t)}),n=(0,r.Y0)((0,r.Xk)(await(0,y.Y2)(t.body,e)),"body"),o=(0,r.s)(n,{roleCredentials:r.Ss});return Object.assign(s,o),s},S=async(t,e)=>{const s={...t,body:await(0,y.CG)(t.body,e)},n=(0,y.cJ)(t,s.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await b(s,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await P(s,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await x(s,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await E(s,e);default:const o=s.body;return v({output:t,parsedBody:o,errorCode:n})}},v=(0,r.jr)(a),b=async(t,e)=>{const s=(0,r.Tj)({}),n=t.body,o=(0,r.s)(n,{message:r.lK});Object.assign(s,o);const i=new c({$metadata:R(t),...s});return(0,r.Mw)(i,t.body)},P=async(t,e)=>{const s=(0,r.Tj)({}),n=t.body,o=(0,r.s)(n,{message:r.lK});Object.assign(s,o);const i=new u({$metadata:R(t),...s});return(0,r.Mw)(i,t.body)},x=async(t,e)=>{const s=(0,r.Tj)({}),n=t.body,o=(0,r.s)(n,{message:r.lK});Object.assign(s,o);const i=new p({$metadata:R(t),...s});return(0,r.Mw)(i,t.body)},E=async(t,e)=>{const s=(0,r.Tj)({}),n=t.body,o=(0,r.s)(n,{message:r.lK});Object.assign(s,o);const i=new d({$metadata:R(t),...s});return(0,r.Mw)(i,t.body)},R=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),I="accountId",k="accessToken",A="account_id",C="roleName",O="role_name",q="x-amz-sso_bearer_token";class D extends(r.uB.classBuilder().ep(i).m((function(t,e,s,r){return[(0,o.TM)(s,this.serialize,this.deserialize),(0,n.rD)(s,t.getEndpointParameterInstructions())]})).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(h,m).ser(f).de(w).build()){}var F=s(36),j=s(39),$=s(40),U=s(41),T=s(45),z=s(81),N=s(82),M=s(83),H=s(47),G=s(54),L=s(69),_=s(46);const B=async(t,e,s)=>({operation:(0,_.u)(e).operation,region:await(0,_.t)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const V=t=>{const e=[];switch(t.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":e.push({schemeId:"smithy.api#noAuth"});break;default:e.push(function(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(t,e)=>({signingProperties:{config:t,context:e}})}}(t))}return e},K="3.848.0";var W=s(78),J=s(79),Q=s(72),X=s(74),Y=s(49),Z=s(64),tt=s(75),et=s(55),st=s(76),nt=s(1322),ot=s(52),rt=s(60),it=s(63),at=s(43),ct=s(44);const ut="required",pt="fn",dt="argv",ht="ref",lt=!0,mt="isSet",yt="booleanEquals",gt="error",ft="endpoint",wt="tree",St="PartitionResult",vt="getAttr",bt={[ut]:!1,type:"String"},Pt={[ut]:!0,default:!1,type:"Boolean"},xt={[ht]:"Endpoint"},Et={[pt]:yt,[dt]:[{[ht]:"UseFIPS"},!0]},Rt={[pt]:yt,[dt]:[{[ht]:"UseDualStack"},!0]},It={},kt={[pt]:vt,[dt]:[{[ht]:St},"supportsFIPS"]},At={[ht]:St},Ct={[pt]:yt,[dt]:[!0,{[pt]:vt,[dt]:[At,"supportsDualStack"]}]},Ot=[Et],qt=[Rt],Dt=[{[ht]:"Region"}],Ft={version:"1.0",parameters:{Region:bt,UseDualStack:Pt,UseFIPS:Pt,Endpoint:bt},rules:[{conditions:[{[pt]:mt,[dt]:[xt]}],rules:[{conditions:Ot,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:gt},{conditions:qt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:gt},{endpoint:{url:xt,properties:It,headers:It},type:ft}],type:wt},{conditions:[{[pt]:mt,[dt]:Dt}],rules:[{conditions:[{[pt]:"aws.partition",[dt]:Dt,assign:St}],rules:[{conditions:[Et,Rt],rules:[{conditions:[{[pt]:yt,[dt]:[lt,kt]},Ct],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:It,headers:It},type:ft}],type:wt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:gt}],type:wt},{conditions:Ot,rules:[{conditions:[{[pt]:yt,[dt]:[kt,lt]}],rules:[{conditions:[{[pt]:"stringEquals",[dt]:[{[pt]:vt,[dt]:[At,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:It,headers:It},type:ft},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:It,headers:It},type:ft}],type:wt},{error:"FIPS is enabled but this partition does not support FIPS",type:gt}],type:wt},{conditions:qt,rules:[{conditions:[Ct],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:It,headers:It},type:ft}],type:wt},{error:"DualStack is enabled but this partition does not support DualStack",type:gt}],type:wt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:It,headers:It},type:ft}],type:wt}],type:wt},{error:"Invalid Configuration: Missing Region",type:gt}]},jt=new ct.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$t=(t,e={})=>jt.get(t,(()=>(0,ct.sO)(Ft,{endpointParams:t,logger:e.logger})));ct.mw.aws=at.UF;var Ut=s(77);const Tt=t=>{(0,r.I9)(process.version);const e=(0,Ut.I)(t),s=()=>e().then(r.lT),n=(t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??rt.E,base64Encoder:t?.base64Encoder??rt.n,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??$t,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??V,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new st.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nt.m}],logger:t?.logger??new r.N4,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??ot.D,utf8Decoder:t?.utf8Decoder??it.ar,utf8Encoder:t?.utf8Encoder??it.Pq}))(t);(0,W.I)(process.version);const o={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Y.Z)(J.$,o),bodyLengthChecker:t?.bodyLengthChecker??tt.n,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Q.pf)({serviceId:n.serviceId,clientVersion:K}),maxAttempts:t?.maxAttempts??(0,Y.Z)(G.qs,t),region:t?.region??(0,Y.Z)(T.GG,{...T.zH,...o}),requestHandler:Z.$c.create(t?.requestHandler??s),retryMode:t?.retryMode??(0,Y.Z)({...G.kN,default:async()=>(await s()).retryMode||et.L0},t),sha256:t?.sha256??X.V.bind(null,"sha256"),streamCollector:t?.streamCollector??Z.kv,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Y.Z)(T.e$,o),useFipsEndpoint:t?.useFipsEndpoint??(0,Y.Z)(T.Ko,o),userAgentAppId:t?.userAgentAppId??(0,Y.Z)(Q.hV,o)}};var zt=s(80),Nt=s(37);class Mt extends r.Kj{config;constructor(...[t]){const e=Tt(t||{});super(e),this.initConfig=e;const s=(o=e,Object.assign(o,{useDualstackEndpoint:o.useDualstackEndpoint??!1,useFipsEndpoint:o.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}));var o;const i=(0,U.Dc)(s),a=(0,G.$z)(i),c=(0,T.TD)(a),u=(0,F.OV)(c),p=((t,e)=>{const s=Object.assign((0,zt.Rq)(t),(0,r.xA)(t),(0,Nt.eS)(t),(t=>{const e=t.httpAuthSchemes;let s=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(t){const s=e.findIndex((e=>e.schemeId===t.schemeId));-1===s?e.push(t):e.splice(s,1,t)},httpAuthSchemes:()=>e,setHttpAuthSchemeProvider(t){s=t},httpAuthSchemeProvider:()=>s,setCredentials(t){n=t},credentials:()=>n}})(t));return e.forEach((t=>t.configure(s))),Object.assign(t,(0,zt.$3)(s),(0,r.uv)(s),(0,Nt.jt)(s),{httpAuthSchemes:(n=s).httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()});var n})((t=>{const e=(0,L.h)(t);return Object.assign(e,{authSchemePreference:(0,_.t)(t.authSchemePreference??[])})})((0,n.Co)(u)),t?.extensions||[]);this.config=p,this.middlewareStack.use((0,U.sM)(this.config)),this.middlewareStack.use((0,G.ey)(this.config)),this.middlewareStack.use((0,H.vK)(this.config)),this.middlewareStack.use((0,F.TC)(this.config)),this.middlewareStack.use((0,j.Y7)(this.config)),this.middlewareStack.use((0,$.n4)(this.config)),this.middlewareStack.use((0,z.w)(this.config,{httpAuthSchemeParametersProvider:B,identityProviderConfigProvider:async t=>new N.h({"aws.auth#sigv4":t.credentials})})),this.middlewareStack.use((0,M.l)(this.config))}destroy(){super.destroy()}}},1321:(t,e,s)=>{s.d(e,{l:()=>r});var n=s(37),o=s(68);function r(t,e){return new i(t,e)}class i{constructor(t,e){this.input=t,this.context=e,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:e="https",port:s,path:o}=await this.context.endpoint();this.path=o;for(const t of this.resolvePathStack)t(this.path);return new n.Kd({protocol:e,hostname:this.hostname||t,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push((e=>{this.path=`${e?.endsWith("/")?e.slice(0,-1):e||""}`+t})),this}p(t,e,s,n){return this.resolvePathStack.push((r=>{this.path=((t,e,s,n,r,i)=>{if(null==e||void 0===e[s])throw new Error("No value provided for input HTTP label: "+s+".");{const e=n();if(e.length<=0)throw new Error("Empty value provided for input HTTP label: "+s+".");t=t.replace(r,i?e.split("/").map((t=>(0,o.$)(t))).join("/"):(0,o.$)(e))}return t})(r,this.input,t,e,s,n)})),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}},1322:(t,e,s)=>{s.d(e,{m:()=>n});class n{async sign(t,e,s){return t}}}};